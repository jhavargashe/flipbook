<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flipbook</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="viewer" class="viewer">
    <!-- Botonera superior (derecha) -->
    <div class="top-controls" aria-label="Controles">
      <button id="btn-first" class="icon" title="Primera">≪</button>
      <button id="btn-prev"  class="icon" title="Atrás">〈</button>
      <button id="btn-fs"    class="icon" title="Pantalla completa" data-state="enter">⤢</button>
      <button id="btn-next"  class="icon" title="Adelante">〉</button>
      <button id="btn-last"  class="icon" title="Última">≫</button>
    </div>

    <!-- Libro + barra (centrados) -->
    <div class="stack">
      <!-- Visor único. Carga el libro segun ?book=<slug> => books/<slug>/page-001.jpg ... -->
      <section id="book" class="book" aria-label="Flipbook">
        <!-- Viñeta general opcional (puedes ocultarla con .gutter{display:none}) -->
        <span class="gutter"></span>

        <!-- IZQUIERDA (estática) -->
        <div id="page-left" class="page left">
          <div class="sheet">
            <img id="img-left" alt="">
            <div class="edge"></div>
            <div class="back"></div>
            <div class="foldShade"></div>
          </div>
          <!-- Sombra estática de “lado de atrás” (PE1) -->
          <div class="shadow-static left"></div>
          <!-- Loader por página -->
          <div id="spin-left" class="spinner" aria-hidden="true"></div>
        </div>

        <!-- DERECHA (estática) -->
        <div id="page-right" class="page right">
          <div class="sheet">
            <img id="img-right" alt="">
            <div class="edge"></div>
            <div class="back"></div>
            <div class="foldShade"></div>
          </div>
          <!-- Sombra estática de “lado de atrás” (PE2) -->
          <div class="shadow-static right"></div>
          <!-- Loader por página -->
          <div id="spin-right" class="spinner" aria-hidden="true"></div>
        </div>

        <!-- Zonas de arrastre vertical por borde (estrechas) -->
        <div id="drag-left"  class="drag-zone left"  aria-label="Arrastrar atrás"></div>
        <div id="drag-right" class="drag-zone right" aria-label="Arrastrar adelante"></div>

        <!-- Skeleton inicial mientras no sabemos el AR (se sustituye al medir page-001) -->
        <div id="skeleton" class="book-skeleton" aria-hidden="true">
          <div class="sk-left"></div><div class="sk-right"></div>
        </div>
      </section>

      <!-- Barra inferior (delgada y más separada) -->
      <nav class="bar">
        <div class="bar-box">
          <div class="rail">
            <div class="fill" id="fill"></div>
            <input id="slider" class="slider" type="range" min="0" value="0" step="1" />
          </div>
        </div>
      </nav>
    </div>

    <!-- Flechas laterales minimalistas, alineadas con el libro (fuera del libro) -->
    <button id="edge-left"  class="edge-hint left"  title="Atrás">❮</button>
    <button id="edge-right" class="edge-hint right" title="Adelante">❯</button>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
